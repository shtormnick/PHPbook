# Подключение базы данных MySQL

## Открытие соединения с базой данных

PHP предоставляет функцию mysql_connect для открытия соединения с базой данных. Эта функция принимает пять параметров и возвращает успешный идентификатор ссылки MySQL или FALSE при сбое.

```connection mysql_connect(server,user,passwd,new_link,client_flag);```
1. **server** 
Необязательно. Имя хоста, на котором запущен сервер базы данных. Если не указано, то значением по умолчанию является localhost: 3306.

2. **user**
Необязательно. Имя пользователя, доступ к базе данных. Если не указано, то по умолчанию это имя пользователя, которому принадлежит серверный процесс.

3. **passwd**
Необязательно - пароль пользователя, обращающегося к базе данных. Если не указано, то по умолчанию используется пустой пароль.

4. **new_link**
  Необязательно. Если второй вызов выполняется с помощью mysql_connect () с теми же аргументами, новое соединение не будет установлено; вместо этого будет возвращен идентификатор уже открытого соединения.
  
5. **client_flags**
Необязательно - комбинация следующих констант -
 * **MYSQL_CLIENT_SSL** - использование шифрования SSL
 
 * **MYSQL_CLIENT_COMPRESS** - Использовать протокол сжатия
 
 * **MYSQL_CLIENT_IGNORE_SPACE** - разрешить пробел после имен функций
 
 * **MYSQL_CLIENT_INTERACTIVE** - разрешать интерактивные таймауты секунд бездействия перед закрытием соединения
 
**ПРИМЕЧАНИЕ**. Вы можете указать сервер, пользователь, пароль в файле php.ini, а не использовать их снова и снова в каждом скрипте PHP. Проверьте конфигурацию файла php.ini.

## Закрытие подключения к базе данных

Простейшая функция mysql_close PHP позволяет закрыть соединение с базой данных. Эта функция использует ресурс соединения, возвращаемый функцией mysql_connect. Он возвращает TRUE на успех или FALSE при сбое.

```bool mysql_close ( resource $link_identifier );```

Если ресурс не указан, последняя база данных openend закрывается.

Попробуйте следующий пример, чтобы открыть и закрыть соединение с базой данных -
```
<?php
   
   $dbhost = 'localhost:3036';
   $dbuser = 'guest';
   $dbpass = 'guest123';
   $conn = mysql_connect($dbhost, $dbuser, $dbpass);
   
   if(! $conn ) {
      die('Could not connect: ' . mysql_error());
   }
   
   echo 'Connected successfully';
   mysql_close($conn);
?>

```
 
